<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <title>Home Page</title>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
            <!-- Brand/logo -->
            <div class="h2 text-light">
                <svg xmlns="http://www.w3.org/2000/svg" width="1em" height=1em" fill="currentColor"
                    class="bi bi-scissors" viewBox="0 0 16 16">
                    <path
                        d="M3.5 3.5c-.614-.884-.074-1.962.858-2.5L8 7.226 11.642 1c.932.538 1.472 1.616.858 2.5L8.81 8.61l1.556 2.661a2.5 2.5 0 1 1-.794.637L8 9.73l-1.572 2.177a2.5 2.5 0 1 1-.794-.637L7.19 8.61 3.5 3.5zm2.5 10a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0zm7 0a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0z" />
                </svg>
                Snipitnow
            </div>
            <!-- Right-aligned elements -->
            <div class="ml-auto">
                <a class="btn btn-light text-primary" href="/user/logout" role="button">Logout</a>
            </div>
        </div>
    </nav>
    <div class="container mt-5">
        <div>
            <form action="/url" method="POST">
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="inputGroup-sizing-default">URL</span>
                    </div>
                    <input type="text" class="form-control" id="url" name="url" placeholder="https://example.com">
                    <button type="submit" class="btn btn-primary">Generate</button>
                </div>
            </form>
        </div>
        <div class="table-responsive">
            <% if(locals.urls) { %>
                <table class="table table-striped">
                    <thead>
                        <th>S. No</th>
                        <th>Short Url</th>
                        <th>Long Url</th>
                        <th>Clicks</th>
                    </thead>
                    <tbody>
                        <% urls.forEach((url, index)=> { %>
                            <tr>
                                <td>
                                    <%= index+1 %>
                                </td>
                                <td>
                                    <a href="http://localhost:8001/r/<%= url.shortId %>">
                                        http://localhost:8001/r/<%= url.shortId %>
                                    </a>
                                </td>
                                <td>
                                    <%= url.redirectURL %>
                                </td>
                                <td>
                                    <%= url.visitHistory.length %>
                                </td>
                            </tr>
                            <% }) %>
                    </tbody>
                </table>
                <% } %>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>
</body>

</html>